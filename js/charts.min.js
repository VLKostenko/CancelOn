$(document).ready(function(){function e(e){for(var t=0,a=0;a<e.length;a++)t+=parseInt(e[a],10);return t/e.length}if(Chart.pluginService.register({beforeDraw:function(e){if(e.config.options.elements.center){var t=e.chart.ctx,a=e.config.options.elements.center,o=a.fontStyle||"Arial",n=a.text,d=a.color||"#000",l=a.sidePadding||20,r=l/100*(2*e.innerRadius);t.font="30px "+o;var i=t.measureText(n).width,s=2*e.innerRadius-r,c=s/i,u=Math.floor(30*c),p=2*e.innerRadius,g=Math.min(u,p);t.textAlign="center",t.textBaseline="middle";var h=(e.chartArea.left+e.chartArea.right)/2,b=(e.chartArea.top+e.chartArea.bottom)/2;t.font=g+"px "+o,t.fillStyle=d,t.fillText(n,h,b)}}}),$("#pie1").length&&$("#pie2").length&&$("#pie3").length){var t={type:"doughnut",data:{datasets:[{data:[10],backgroundColor:["#4b79bb"],hoverBackgroundColor:["#4b79bb"]}]},options:{elements:{center:{text:"92%",color:"#4b79bb",fontStyle:"Roboto",sidePadding:5}},tooltips:{enabled:!1}}},a=document.getElementById("pie1").getContext("2d"),o=document.getElementById("pie2").getContext("2d"),n=document.getElementById("pie3").getContext("2d");new Chart(a,t),new Chart(o,t),new Chart(n,t)}if($("canvas").length){var d={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{backgroundColor:"#8ecdf6",borderColor:"#8ecdf6",pointBackgroundColor:"#3eb5f1",pointBorderColor:"#4b79bb",pointHoverBackgroundColor:"#fff",pointBorderWidth:3,pointRadius:8,pointHoverRadius:8,data:[23043,23671,23650,24560,25618,23103,24850],hidden:!1,lineTension:0,label:"Views",fill:!1},{backgroundColor:"#fed95f",borderColor:"#fed95f",pointBackgroundColor:"#ff4927",pointBorderColor:"#ffccaf",pointHoverBackgroundColor:"#fff",pointBorderWidth:3,pointRadius:8,pointHoverRadius:8,data:[3470,4580,4811,4328,4919,5108,5241],hidden:!1,lineTension:0,label:"Reservation",fill:!1},{backgroundColor:"#ceef9d",borderColor:"#ceef9d",pointBackgroundColor:"#99c45a",pointBorderColor:"#658b2c",pointHoverBackgroundColor:"#fff",pointBorderWidth:3,pointRadius:8,pointHoverRadius:8,data:[4,4.3,5,4.9,4.4,4.8,3.9,5,4.3,5,4.9,4.4,4.8,3.9],hidden:!1,lineTension:0,label:"Rating",fill:!1}]},l={responsive:!0,tooltips:{position:"nearest",xPadding:20,yPadding:5,cornerRadius:13,displayColors:!1,title:!1,titleFontFamily:"Roboto",titleFontStyle:"bold",titleFontSize:0,titleSpacing:0,titleMarginBottom:0,bodyFontFamily:"Roboto",bodyFontStyle:"normal",bodyFontSize:14,backgroundColor:"#3eb5f1",caretSize:0,caretPadding:0},hover:{mode:"nearest"},title:{display:!1},scales:{xAxes:[{stacked:!1,afterTickToLabelConversion:function(e){var t=e.ticks;t.forEach(function(e,a){a%2==1&&(t[a]="")})}}],yAxes:[{ticks:{display:!1}}]},legend:{display:!1},legendCallback:function(t){var a=[];a.push('<ul class="chart-legends-wrapper">');for(var o=0;o<t.data.datasets.length;o++)a.push('<li class="chart-name" id="'+t.data.datasets[o].label.toLowerCase()+'" onclick="updateDataset(event, \''+t.legend.legendItems[o].datasetIndex+"')\">"),"Rating"!==t.data.datasets[o].label?(a.push('<div class="label-name" style="color: #000;">'+t.data.datasets[o].label+"</div>"),a.push('<div class="label-value" style="color: '+t.data.datasets[o].pointBackgroundColor+';">'+Math.floor(e(t.data.datasets[o].data))+"</div>"),a.push('<div class="label-point" style="background: '+t.data.datasets[o].pointBackgroundColor+";border-color: "+t.data.datasets[o].pointBorderColor+";border-width: "+t.data.datasets[o].pointBorderWidth+'px;"></div>')):t.data.datasets[o].hidden?a.push('<div class="label-value rating" style="color: '+t.data.datasets[o].pointBackgroundColor+'; text-decoration: line-through;">'+e(t.data.datasets[o].data).toFixed(1)+" /5</div>"):a.push('<div class="label-value rating" style="color: '+t.data.datasets[o].pointBackgroundColor+';">'+e(t.data.datasets[o].data).toFixed(1)+" /5</div>"),a.push("</li>");return a.push("</ul>"),a.join("")}};updateDataset=function(e,t){var a=t,o=e.view.mainChart,n=o.getDatasetMeta(a);n.hidden=null===n.hidden?!o.data.datasets[a].hidden:null,null!==n.hidden?$("#"+o.data.datasets[a].label.toLowerCase()).children(".label-name, .label-value").css("text-decoration","line-through"):$("#"+o.data.datasets[a].label.toLowerCase()).children(".label-name, .label-value").css("text-decoration","initial"),o.update()};var t={type:"line",data:d,options:l},r=document.getElementById("canvas").getContext("2d");window.mainChart=new Chart(r,t),document.getElementById("chart-legends").innerHTML=mainChart.generateLegend()}});